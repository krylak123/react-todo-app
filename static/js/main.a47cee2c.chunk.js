(this["webpackJsonpreact-todo-app"]=this["webpackJsonpreact-todo-app"]||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(13),r=n.n(c),i=n(4),l=n(3),o="GET_TASKS",u="REMOVE_TASK",d="FINISH_TASK",j="CLEAR_FINISH_TASK",m="REORDER_STATE",b=function(e,t){switch(t.type){case o:return function(e,t){var n=[].concat(Object(l.a)(e),[t.task]);return localStorage.setItem("TASK_LIST",JSON.stringify(n)),n}(e,t.payload);case u:return function(e,t){var n=e.filter((function(e){return e.id!==t.id}));return localStorage.setItem("TASK_LIST",JSON.stringify(n)),n}(e,t.payload);case d:return function(e,t){var n=Object(l.a)(e);return n.forEach((function(e){e.id===t.id&&(e.isFinished=!t.isFinished)})),localStorage.setItem("TASK_LIST",JSON.stringify(n)),n}(e,t.payload);case j:return function(e){var t=e.filter((function(e){return!e.isFinished}));return localStorage.setItem("TASK_LIST",JSON.stringify(t)),t}(e);case m:return function(e,t){if(!t.result.destination)return e;var n=Object(l.a)(e),a=n.splice(t.result.source.index,1),s=Object(i.a)(a,1)[0];return n.splice(t.result.destination.index,0,s),localStorage.setItem("TASK_LIST",JSON.stringify(n)),n}(e,t.payload);default:return e}},h=n(1),f=Object(a.createContext)(null),O=function(e){var t=e.children,n=Object(a.useReducer)(b,function(){var e=JSON.parse(localStorage.getItem("TASK_LIST"));return e||[]}()),s=Object(i.a)(n,2),c=s[0],r=s[1];return Object(h.jsx)(f.Provider,{value:{state:c,addTask:function(e){r({type:o,payload:{task:e}})},removeTask:function(e){r({type:u,payload:{id:e}})},finishTask:function(e,t){r({type:d,payload:{id:e,isFinished:t}})},clearFinishTask:function(){r({type:j})},reorderState:function(e){r({type:m,payload:{result:e}})}},children:t})},p=n(70),_=n(181),x=n(41),k=function(){return x.a().shape({taskName:x.b().required("task name is required").trim().min(3,"task must have min 3 chars")})},v=function(){var e=Object(a.useContext)(f).addTask,t=Object(p.a)({initialValues:{taskImportant:!1,taskName:""},validationSchema:k,onSubmit:function(n){var a=(new Date).toLocaleString(),s={id:Object(_.a)(),name:n.taskName,isImportant:n.taskImportant,isFinished:!1,dateAdd:a};t.values.taskImportant=!1,t.values.taskName="",e(s)}});return Object(h.jsxs)("form",{className:"form",onSubmit:t.handleSubmit,children:[Object(h.jsx)("label",{className:"form__label form__label--checkbox",children:Object(h.jsx)("input",{type:"checkbox",name:"taskImportant",className:"form__checkbox",checked:t.values.taskImportant,onChange:t.handleChange,onBlur:t.handleBlur})}),Object(h.jsx)("label",{className:"form__label form__label--input",children:Object(h.jsx)("input",{type:"text",name:"taskName",className:"form__input",placeholder:"Create a new todo...",value:t.values.taskName,onChange:t.handleChange,onBlur:t.handleBlur})})]})},N=n.p+"static/media/icon-sun.910b1f9a.svg",S=n.p+"static/media/icon-moon.6c03114b.svg",g=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("h1",{className:"header__title",children:"TODO"}),Object(h.jsx)("div",{className:"header__toggle-wrap",children:Object(h.jsx)("img",{onClick:function(){n?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme","dark"),s((function(e){return!e}))},src:n?N:S,alt:"sun icon - dark mode turn off",className:"header__toggle"})})]})},C=n(7),T=n(20),I=n.p+"static/media/icon-check.a8fb15d0.svg",y=n.p+"static/media/icon-cross.6ee81d30.svg",A=function(e){var t=e.id,n=e.name,s=e.isImportant,c=e.isFinished,r=e.dateAdd,i=e.index,l=Object(a.useContext)(f),o=l.finishTask,u=l.removeTask;return Object(h.jsx)(T.b,{draggableId:n,index:i,children:function(e){return Object(h.jsxs)("div",Object(C.a)(Object(C.a)(Object(C.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{className:c&&s?"task finish important":c?"task finish":s?"task important":"task",children:[Object(h.jsx)("div",{className:"task__finish-wrap",children:Object(h.jsx)("button",{name:"finish",className:"task__btn-finish",onClick:function(){return function(e){o(e,c)}(t)},children:Object(h.jsx)("img",{src:I,alt:"finish icon",className:"task__finish-icon"})})}),Object(h.jsxs)("div",{className:"task__info-wrap",children:[Object(h.jsx)("h2",{className:"task__name",children:n}),Object(h.jsxs)("p",{className:"task__date",children:["added: ",r]})]}),Object(h.jsx)("div",{className:"task__delete-wrap",children:Object(h.jsx)("button",{name:"delete",className:"task__btn-delete",onClick:function(){return function(e){u(e)}(t)},children:Object(h.jsx)("img",{src:y,alt:"delete icon",className:"task__delete-icon"})})})]}))}},t)},F=function(e){var t=e.currentFilter,n=e.count,s=Object(a.useContext)(f),c=s.state,r=s.reorderState,i=c;"active"===t?i=i.filter((function(e){return!e.isFinished})):"completed"===t&&(i=i.filter((function(e){return e.isFinished})));var l=i.map((function(e,t){return Object(h.jsx)(A,Object(C.a)(Object(C.a)({},e),{},{index:t}),e.id)}));return Object(a.useEffect)((function(){n(i.length)})),Object(h.jsx)(T.a,{onDragEnd:function(e){r(e)},children:Object(h.jsx)(T.c,{droppableId:"tasks",children:function(e){return Object(h.jsxs)("div",Object(C.a)(Object(C.a)({ref:e.innerRef},e.droppableProps),{},{className:"results__tasks",children:[l,e.placeholder]}))}})})},E=function(e){var t=e.onClickFilters,n=e.onClickClear,a=e.count;return Object(h.jsxs)("div",{className:"results__panel",children:[Object(h.jsx)("div",{className:"results__count-wrap",children:Object(h.jsxs)("p",{className:"results__count",children:[a," items left"]})}),Object(h.jsxs)("div",{className:"results__options-wrap",children:[Object(h.jsx)("button",{onClick:t,name:"all",className:"results__option active",children:"All"}),Object(h.jsx)("button",{onClick:t,name:"active",className:"results__option",children:"Active"}),Object(h.jsx)("button",{onClick:t,name:"completed",className:"results__option",children:"Completed"})]}),Object(h.jsx)("div",{className:"results__clear-wrap",children:Object(h.jsx)("button",{onClick:n,className:"results__clear",children:"Clear Completed"})})]})},L=function(){var e=Object(a.useContext)(f).clearFinishTask,t=Object(a.useState)("all"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{className:"results",children:[Object(h.jsx)(F,{currentFilter:s,count:u}),Object(h.jsx)(E,{onClickFilters:function(e){document.querySelectorAll(".results__option").forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active");var t=e.target.name;c(t)},onClickClear:function(){e(),document.querySelectorAll(".results__option").forEach((function(e){return e.classList.remove("active")})),document.querySelector(".results__option").classList.add("active"),c("all")},count:o})]}),Object(h.jsx)("p",{className:"results__info",children:"Drag and drop to reorder list"})]})},w=function(){return Object(a.useEffect)((function(){document.documentElement.setAttribute("data-theme","dark")}),[]),Object(h.jsx)(O,{children:Object(h.jsx)("main",{className:"content",children:Object(h.jsxs)("div",{className:"content__container",children:[Object(h.jsx)(g,{}),Object(h.jsx)(v,{}),Object(h.jsx)(L,{})]})})})},K=(n(178),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))});r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),K()}},[[179,1,2]]]);
//# sourceMappingURL=main.a47cee2c.chunk.js.map